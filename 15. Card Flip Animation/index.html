<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GSAP Card Flip Effects</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Reset */
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body,
      html {
        height: 100%;
        overflow-x: hidden; /* Hide default scroll */
        font-family: "Roboto", sans-serif;

        color: #fff;
      }
      /* ScrollSmoother expects a wrapper and content */
      #smooth-wrapper {
        height: 100vh;
        overflow: hidden;
      }
      #smooth-content {
        min-height: 150vh; /* enough height to scroll */
        padding: 40px 20px;
        box-sizing: border-box;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
      }
      h1 {
        text-align: center;
        margin-bottom: 60px;
        font-weight: 500;
        color: black;
      }
      /* Grid with fixed 3 columns */
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 40px;
        justify-items: center;
      }

      /* All cards same fixed size */
      .card {
        position: relative;
        width: 250px;
        height: 320px;
        perspective: 1000px;
        border-radius: 10px;
        cursor: pointer;
        user-select: none;
        background: transparent;
      }
      .card-inner {
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 10px;
        transform-style: preserve-3d;
        transition: transform 0.8s ease;
        background: transparent;
      }
      .card-face {
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 10px;
        backface-visibility: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        padding: 20px;
        box-sizing: border-box;
        user-select: none;
        color: #fff;
      }
      .card-front {
        background: #00bcd4;
      }
      .card-back {
        background: #ff4081;
        transform: rotateY(180deg);
      }

      /* Hover Flip */
      .card:hover .card-inner.hover-flip {
        transform: rotateY(180deg);
      }

      /* Hover Tilt 3D */
      #tiltCard {
        cursor: grab;
        background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
      }
      #tiltInner {
        background: #512da8;
        color: white;
        font-weight: 600;
        border-radius: 10px;
      }

      /* Advanced GSAP Hover Flip + Tilt Card */
      .interactive-card {
        width: 250px;
        height: 320px;
        perspective: 1000px;
        position: relative;
        cursor: grab;
      }
      .interactive-card .card {
        position: relative;
        width: 100%;
        height: 100%;
        transform-style: preserve-3d;
        border-radius: 12px;
        overflow: hidden;
        background: #ffd600;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        transition: box-shadow 0.3s ease;
      }
      .interactive-card .card-face {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        color: white;
        font-size: 24px;
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 12px;
        user-select: none;
      }
      .interactive-card .front {
        background: #ffd600;
      }
      .interactive-card .front img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 12px;
        pointer-events: none;
        user-select: none;
      }
      .interactive-card .back {
        background: #ff6f00;
        transform: rotateY(180deg);
      }
      /* Glare effect */
      .glare {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        background: radial-gradient(
          circle at center,
          rgba(255, 255, 255, 0.5),
          transparent
        );
        mix-blend-mode: lighten;
        opacity: 0;
        border-radius: 12px;
        transition: opacity 0.3s ease-out;
      }

      /* Drag Flip Card */
      #dragFlipCard {
        background: linear-gradient(45deg, #f44336, #e91e63);
      }
      #dragFlipInner {
        background: #c2185b;
        color: white;
        font-weight: 700;
      }

      /* 3D Depth Pulse Card */
      #pulseCard {
        background: linear-gradient(135deg, #2196f3, #21cbf3);
      }
      #pulseInner {
        background: #1976d2;
        color: white;
        font-weight: 600;
        box-shadow: 0 0 20px rgba(33, 203, 243, 0.7);
      }

      /* Shadow Follow Cursor Card */
      #shadowCard {
        background: linear-gradient(135deg, #8e24aa, #d81b60);
      }
      #shadowInner {
        background: #6a1b9a;
        color: white;
        font-weight: 600;
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.4);
        transition: box-shadow 0.3s ease;
      }
    </style>
  </head>
  <body>
    <!-- ScrollSmoother wrapper and content -->
    <div id="smooth-wrapper">
      <div id="smooth-content">
        <div class="container">
          <h1>GSAP Card Flip Effects</h1>

          <div class="grid">
            <!-- Hover Flip -->
            <div class="card" style="cursor: pointer">
              <div class="card-inner hover-flip">
                <div class="card-face card-front">Hover Flip Front</div>
                <div class="card-face card-back">Hover Flip Back</div>
              </div>
            </div>

            <!-- Click Flip -->
            <div class="card" id="clickCard" style="cursor: pointer">
              <div class="card-inner" id="clickFlip">
                <div class="card-face card-front">Click Flip Front</div>
                <div class="card-face card-back">Click Flip Back</div>
              </div>
            </div>

            <!-- Auto Flip Loop -->
            <div class="card" id="autoCard">
              <div class="card-inner" id="autoFlip">
                <div class="card-face card-front">Auto Flip Front</div>
                <div class="card-face card-back">Auto Flip Back</div>
              </div>
            </div>

            <!-- Hover Tilt 3D -->
            <div class="card" id="tiltCard" style="cursor: grab">
              <div class="card-inner" id="tiltInner">
                <div class="card-face card-front">3D Tilt Hover</div>
              </div>
            </div>

            <!-- Advanced GSAP Hover Flip + Tilt Card -->
            <div class="interactive-card" id="intCard">
              <div class="card" id="cardInner">
                <div class="card-face front">
                  <img
                    src="https://unsplash.com/random/250x320?interactive"
                    alt="Front Image hover it"
                    draggable="false"
                  />
                </div>

                <div class="glare" id="glare"></div>
              </div>
            </div>

            <!-- Drag & Throw Flip Card -->
            <div class="card" id="dragFlipCard" style="cursor: grab">
              <div class="card-inner" id="dragFlipInner">
                <div class="card-face card-front">Drag Flip Front</div>
                <div class="card-face card-back">Drag Flip Back</div>
              </div>
            </div>

            <!-- 3D Depth Pulse Card -->
            <div class="card" id="pulseCard">
              <div class="card-inner" id="pulseInner">
                <div class="card-face card-front">Pulse Front</div>
              </div>
            </div>

            <!-- Scroll Trigger Flip -->
            <div class="card" id="scrollCard">
              <div class="card-inner" id="scrollFlip">
                <div class="card-face card-front">Scroll Flip Front</div>
                <div class="card-face card-back">Scroll Flip Back</div>
              </div>
            </div>

            <!-- Shadow Follow Cursor Card -->
            <div class="card" id="shadowCard">
              <div class="card-inner" id="shadowInner">
                <div class="card-face card-front">Shadow Front</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- GSAP Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollSmoother.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/Draggable.min.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        gsap.registerPlugin(ScrollTrigger, ScrollSmoother, Draggable);

        // Initialize ScrollSmoother on wrapper and content
        ScrollSmoother.create({
          wrapper: "#smooth-wrapper",
          content: "#smooth-content",
          smooth: 1.2,
          effects: true,
        });

        /* ----------- Click Flip Card ----------- */
        const clickCard = document.getElementById("clickCard");
        const clickFlip = document.getElementById("clickFlip");
        let clicked = false;
        clickCard.addEventListener("click", () => {
          gsap.to(clickFlip, {
            rotateY: clicked ? 0 : 180,
            duration: 0.8,
            ease: "power2.inOut",
          });
          clicked = !clicked;
        });

        /* ----------- Scroll Trigger Flip ----------- */
        gsap.to("#scrollFlip", {
          scrollTrigger: {
            trigger: "#scrollCard",
            start: "top 80%",
            toggleActions: "play none none reverse",
          },
          rotateY: 180,
          duration: 1,
          ease: "power2.out",
        });

        /* ----------- Auto Flip Loop ----------- */
        gsap.to("#autoFlip", {
          rotateY: 360,
          duration: 2,
          repeat: -1,
          yoyo: true,
          ease: "power2.inOut",
        });

        /* ----------- Hover Tilt 3D Effect ----------- */
        const tiltCard = document.getElementById("tiltCard");
        const tiltInner = document.getElementById("tiltInner");

        tiltCard.addEventListener("mousemove", (e) => {
          const bounds = tiltCard.getBoundingClientRect();
          const x = e.clientX - bounds.left;
          const y = e.clientY - bounds.top;

          const rotateY = (x / bounds.width - 0.5) * 20;
          const rotateX = (y / bounds.height - 0.5) * -20;

          gsap.to(tiltInner, {
            rotateX,
            rotateY,
            duration: 0.3,
            ease: "power1.out",
          });
        });

        tiltCard.addEventListener("mouseleave", () => {
          gsap.to(tiltInner, {
            rotateX: 0,
            rotateY: 0,
            duration: 0.3,
            ease: "power2.out",
          });
        });

        /* ----------- Advanced GSAP Hover Flip + Tilt Card ----------- */
        const card = document.getElementById("cardInner");
        const container = document.getElementById("intCard");
        const glare = document.getElementById("glare");
        let bounds;

        function onMouseMove(e) {
          const { x, y, width, height } = bounds;
          const posX = e.clientX - x;
          const posY = e.clientY - y;
          const rotateY = (posX / width) * 20 - 10;
          const rotateX = -((posY / height) * 20) + 10;

          gsap.to(card, {
            duration: 0.3,
            rotateY: rotateY,
            rotateX: rotateX,
            scale: 1.05,
            boxShadow: `${-rotateY * 2}px ${
              rotateX * 2
            }px 30px rgba(0,0,0,0.3)`,
            ease: "power2.out",
          });

          gsap.to(glare, {
            duration: 0.3,
            opacity: 1,
            backgroundImage: `radial-gradient(circle at ${posX}px ${posY}px, rgba(255,255,255,0.4), transparent)`,
          });
        }

        container.addEventListener("mouseenter", () => {
          bounds = container.getBoundingClientRect();
          container.addEventListener("mousemove", onMouseMove);
        });

        container.addEventListener("mouseleave", () => {
          container.removeEventListener("mousemove", onMouseMove);
          gsap.to(card, {
            duration: 0.6,
            rotateY: 0,
            rotateX: 0,
            scale: 1,
            boxShadow: "0 0 10px rgba(0,0,0,0.1)",
            ease: "power2.out",
          });
          gsap.to(glare, { duration: 0.6, opacity: 0 });
        });

        /* ----------- Drag & Throw Flip Card ----------- */
        const dragFlipCard = document.getElementById("dragFlipCard");
        const dragFlipInner = document.getElementById("dragFlipInner");

        Draggable.create(dragFlipCard, {
          type: "x",
          edgeResistance: 0.65,
          inertia: true,
          bounds: dragFlipCard.parentElement,
          onDragEnd() {
            const rotationY =
              this.endX > dragFlipCard.offsetWidth / 2 ? 180 : 0;

            gsap.to(dragFlipInner, {
              rotateY: rotationY,
              duration: 0.6,
              ease: "power2.out",
            });

            gsap.to(this.target, { x: 0, duration: 0.4 });
          },
        });

        /* ----------- 3D Depth Pulse Card ----------- */
        const pulseInner = document.getElementById("pulseInner");
        gsap.to(pulseInner, {
          scale: 1.1,
          duration: 1,
          repeat: -1,
          yoyo: true,
          ease: "power1.inOut",
          boxShadow: "0 0 40px rgba(33,203,243,1)",
        });

        /* ----------- Shadow Follow Cursor Card ----------- */
        const shadowCard = document.getElementById("shadowCard");
        const shadowInner = document.getElementById("shadowInner");

        shadowCard.addEventListener("mousemove", (e) => {
          const bounds = shadowCard.getBoundingClientRect();
          const x = e.clientX - bounds.left;
          const y = e.clientY - bounds.top;
          const shadowX = (x / bounds.width - 0.5) * 30;
          const shadowY = (y / bounds.height - 0.5) * 30;

          gsap.to(shadowInner, {
            boxShadow: `${-shadowX}px ${-shadowY}px 30px rgba(0,0,0,0.7)`,
            duration: 0.3,
            ease: "power1.out",
          });
        });

        shadowCard.addEventListener("mouseleave", () => {
          gsap.to(shadowInner, {
            boxShadow: "0 10px 15px rgba(0,0,0,0.4)",
            duration: 0.3,
            ease: "power2.out",
          });
        });
      });
    </script>
  </body>
</html>
